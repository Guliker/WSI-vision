\hypertarget{namespacemodule__functions}{}\doxysection{module\+\_\+functions Namespace Reference}
\label{namespacemodule__functions}\index{module\_functions@{module\_functions}}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{namespacemodule__functions_a2c5543c5de1a9dd901fe1bd4660f054c}{draw\+\_\+calibration\+\_\+box}} (image, x, y, w, h, text, color)
\item 
def \mbox{\hyperlink{namespacemodule__functions_a853d161a502bcfd87493ab3aa6b0d78b}{find\+\_\+min\+\_\+max\+\_\+array}} (value, offset=0)
\item 
def \mbox{\hyperlink{namespacemodule__functions_a2161d037973c5445e421c31e0f50ceb6}{find\+\_\+min\+\_\+max\+\_\+color}} (image, color\+\_\+space, offset\+\_\+table)
\item 
def \mbox{\hyperlink{namespacemodule__functions_a46b932fe69bf77eb90f5ab2b1e0dc4f8}{save\+\_\+min\+\_\+max\+\_\+color}} (color\+\_\+index, lab\+\_\+min, lab\+\_\+max, min\+\_\+max\+\_\+table)
\item 
def \mbox{\hyperlink{namespacemodule__functions_a5944e9f9cb7cd5fe753df84013c2adfe}{create\+\_\+bit\+\_\+mask\+\_\+for\+\_\+color}} (kernal, image, min\+\_\+max\+\_\+array, erode, dilate, scale=1)
\item 
def \mbox{\hyperlink{namespacemodule__functions_aa96152cc4a4572f7b29a330a49cb2d76}{create\+\_\+contour}} (image, min\+\_\+area, method=cv2.\+CHAIN\+\_\+\+APPROX\+\_\+\+SIMPLE)
\item 
def \mbox{\hyperlink{namespacemodule__functions_a8bbf2cb11700435bed14b909d8311515}{split\+\_\+contour\+\_\+on\+\_\+height}} (image, contour, height, offset, cut\+\_\+size)
\item 
def \mbox{\hyperlink{namespacemodule__functions_aee0890d804e34c155524adfcc11a39ad}{draw\+\_\+horizontal\+\_\+line}} (image, x, y, w, t)
\item 
def \mbox{\hyperlink{namespacemodule__functions_aa6e63cc76dc0f0750b38ca936121d641}{draw\+\_\+contour}} (image, contour, color, debug)
\item 
def \mbox{\hyperlink{namespacemodule__functions_a9e3a4bece3737a760f53343ed73ce1a2}{create\+\_\+workspace}} (image, contours, width, height, offset, debug, scale=1)
\item 
def \mbox{\hyperlink{namespacemodule__functions_af512726cd648e41774ce21b1d18e0a47}{find\+\_\+contour\+\_\+angle}} (contour, search\+\_\+w, search\+\_\+h, image, scale, debug)
\item 
def \mbox{\hyperlink{namespacemodule__functions_a2144571c80fd5b4caaa9c4049fec26ec}{transform\+\_\+workspace}} (image, workspace, width, height)
\item 
def \mbox{\hyperlink{namespacemodule__functions_a7b1acafebdc5cc0ef48f7202a12ad056}{find\+\_\+angle\+\_\+between}} (p1, p2)
\item 
def \mbox{\hyperlink{namespacemodule__functions_ac39d58ae949a0f0b8b37dbfed508c114}{sort\+\_\+contours\+\_\+on\+\_\+height}} (cnts, clr)
\item 
def \mbox{\hyperlink{namespacemodule__functions_afea944d7c79ea128e4b5de777b84808b}{block\+\_\+color\+\_\+fill}} (fill\+\_\+array, cnt\+\_\+array, color\+\_\+index, block\+\_\+width)
\item 
def \mbox{\hyperlink{namespacemodule__functions_a68b59d76c84726096c32dea4b8b298f5}{create\+\_\+block\+\_\+pos\+\_\+array}} (image, contours, lowest\+\_\+block\+\_\+pos, offset\+\_\+width)
\item 
def \mbox{\hyperlink{namespacemodule__functions_a6540211e362aa55494e7c7bc8be1a9ee}{overlay\+\_\+image}} (l\+\_\+img, s\+\_\+img, position=(0, 0))
\item 
\mbox{\Hypertarget{namespacemodule__functions_abcfe323ae398d341c9a64fdacf55e73f}\label{namespacemodule__functions_abcfe323ae398d341c9a64fdacf55e73f}} 
def {\bfseries pos\+\_\+shift} (pos, shift\+\_\+pos)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{namespacemodule__functions_ab7e6687901dfd798a085abea3734ac3b}\label{namespacemodule__functions_ab7e6687901dfd798a085abea3734ac3b}} 
{\bfseries font} = cv2.\+FONT\+\_\+\+HERSHEY\+\_\+\+SIMPLEX
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}Functions used for the WSI vision module
- calibration
- mask
- contours
- workspace
\end{DoxyVerb}
 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespacemodule__functions_afea944d7c79ea128e4b5de777b84808b}\label{namespacemodule__functions_afea944d7c79ea128e4b5de777b84808b}} 
\index{module\_functions@{module\_functions}!block\_color\_fill@{block\_color\_fill}}
\index{block\_color\_fill@{block\_color\_fill}!module\_functions@{module\_functions}}
\doxysubsubsection{\texorpdfstring{block\_color\_fill()}{block\_color\_fill()}}
{\footnotesize\ttfamily def module\+\_\+functions.\+block\+\_\+color\+\_\+fill (\begin{DoxyParamCaption}\item[{}]{fill\+\_\+array,  }\item[{}]{cnt\+\_\+array,  }\item[{}]{color\+\_\+index,  }\item[{}]{block\+\_\+width }\end{DoxyParamCaption})}

\begin{DoxyVerb}:brief      Fills an array with the size of an other array
:param      fill_array:     Array to fill with numbers
:param      cnt_array:      Array of contours to get the width from
:param      color_index:    Type of color to fill the array with
:param      block_width:    Width of a big block to check against

Examples:
    fill_array = []

    block_color_fill(cnt_array = [1,2,3,4,5], color_index = 1)
    fill_array = [2,2,2,2,2]

    block_color_fill(cnt_array = [6,7,8], color_index = 2)
    fill_array = [2,2,2,2,2,3,3,3]

    block_color_fill(cnt_array = [9,10], color_index = 0)
    fill_array = [2,2,2,2,2,3,3,3,1,1]
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacemodule__functions_a5944e9f9cb7cd5fe753df84013c2adfe}\label{namespacemodule__functions_a5944e9f9cb7cd5fe753df84013c2adfe}} 
\index{module\_functions@{module\_functions}!create\_bit\_mask\_for\_color@{create\_bit\_mask\_for\_color}}
\index{create\_bit\_mask\_for\_color@{create\_bit\_mask\_for\_color}!module\_functions@{module\_functions}}
\doxysubsubsection{\texorpdfstring{create\_bit\_mask\_for\_color()}{create\_bit\_mask\_for\_color()}}
{\footnotesize\ttfamily def module\+\_\+functions.\+create\+\_\+bit\+\_\+mask\+\_\+for\+\_\+color (\begin{DoxyParamCaption}\item[{}]{kernal,  }\item[{}]{image,  }\item[{}]{min\+\_\+max\+\_\+array,  }\item[{}]{erode,  }\item[{}]{dilate,  }\item[{}]{scale = {\ttfamily 1} }\end{DoxyParamCaption})}

\begin{DoxyVerb}:brief      creates a mask for one color
:param      kernal:         kernal used for dilation/erosion
:param      image:          image to find the mask
:param      min_max_array:  Min and max values [[l,a,b],[l,a,b]]
:param      scale:          Factor to scale the image, 1 = normal
:return     bit mask of the image where the lab values are within the min and max
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacemodule__functions_a68b59d76c84726096c32dea4b8b298f5}\label{namespacemodule__functions_a68b59d76c84726096c32dea4b8b298f5}} 
\index{module\_functions@{module\_functions}!create\_block\_pos\_array@{create\_block\_pos\_array}}
\index{create\_block\_pos\_array@{create\_block\_pos\_array}!module\_functions@{module\_functions}}
\doxysubsubsection{\texorpdfstring{create\_block\_pos\_array()}{create\_block\_pos\_array()}}
{\footnotesize\ttfamily def module\+\_\+functions.\+create\+\_\+block\+\_\+pos\+\_\+array (\begin{DoxyParamCaption}\item[{}]{image,  }\item[{}]{contours,  }\item[{}]{lowest\+\_\+block\+\_\+pos,  }\item[{}]{offset\+\_\+width }\end{DoxyParamCaption})}

\begin{DoxyVerb}:brief      Creates an array that shows if the block is positioned in the left(1), middle(2), right(3)
:param      image:              Image to draw the mid position on
:param      contours:           Array of contours sorted in height
:param      lowest_block_pos:   Position of the lowest block
:return     An array of the position from the bottom block to the top block
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacemodule__functions_aa96152cc4a4572f7b29a330a49cb2d76}\label{namespacemodule__functions_aa96152cc4a4572f7b29a330a49cb2d76}} 
\index{module\_functions@{module\_functions}!create\_contour@{create\_contour}}
\index{create\_contour@{create\_contour}!module\_functions@{module\_functions}}
\doxysubsubsection{\texorpdfstring{create\_contour()}{create\_contour()}}
{\footnotesize\ttfamily def module\+\_\+functions.\+create\+\_\+contour (\begin{DoxyParamCaption}\item[{}]{image,  }\item[{}]{min\+\_\+area,  }\item[{}]{method = {\ttfamily cv2.CHAIN\+\_\+APPROX\+\_\+SIMPLE} }\end{DoxyParamCaption})}

\begin{DoxyVerb}:brief      Creates contour array from an image
:param      mask:       Image to use
:param      min_area:   Minimum area a contour can be
:param      method:     Method used to make the contour (SIMPLE, NONE)
:return     Array of contours in the image
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacemodule__functions_a9e3a4bece3737a760f53343ed73ce1a2}\label{namespacemodule__functions_a9e3a4bece3737a760f53343ed73ce1a2}} 
\index{module\_functions@{module\_functions}!create\_workspace@{create\_workspace}}
\index{create\_workspace@{create\_workspace}!module\_functions@{module\_functions}}
\doxysubsubsection{\texorpdfstring{create\_workspace()}{create\_workspace()}}
{\footnotesize\ttfamily def module\+\_\+functions.\+create\+\_\+workspace (\begin{DoxyParamCaption}\item[{}]{image,  }\item[{}]{contours,  }\item[{}]{width,  }\item[{}]{height,  }\item[{}]{offset,  }\item[{}]{debug,  }\item[{}]{scale = {\ttfamily 1} }\end{DoxyParamCaption})}

\begin{DoxyVerb}:brief      Makes a workspace centred on the biggest contour
:param      image:      Image to draw on in debug mode
:param      contours:   Array of contours in the image
:param      width:      Width of the workspace
:param      height:     Height of the workspace
:param      offset:     How big the search window is for the angle
:param      debug:      If debug info should be shown
:param      scale:      Factor to scale the image, 1 = normal
:return     Four points of the designated workspace
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacemodule__functions_a2c5543c5de1a9dd901fe1bd4660f054c}\label{namespacemodule__functions_a2c5543c5de1a9dd901fe1bd4660f054c}} 
\index{module\_functions@{module\_functions}!draw\_calibration\_box@{draw\_calibration\_box}}
\index{draw\_calibration\_box@{draw\_calibration\_box}!module\_functions@{module\_functions}}
\doxysubsubsection{\texorpdfstring{draw\_calibration\_box()}{draw\_calibration\_box()}}
{\footnotesize\ttfamily def module\+\_\+functions.\+draw\+\_\+calibration\+\_\+box (\begin{DoxyParamCaption}\item[{}]{image,  }\item[{}]{x,  }\item[{}]{y,  }\item[{}]{w,  }\item[{}]{h,  }\item[{}]{text,  }\item[{}]{color }\end{DoxyParamCaption})}

\begin{DoxyVerb}:brief      Draw square in the middle of the screen with text
:param      image:  image that will be drawn on
:param      x:      X position offset
:param      y:      Y possition offset
:param      w:      Width of the square
:param      h:      Height of the square
:param      text:   Text above the square
:param      color:  Color of the text and square
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacemodule__functions_aa6e63cc76dc0f0750b38ca936121d641}\label{namespacemodule__functions_aa6e63cc76dc0f0750b38ca936121d641}} 
\index{module\_functions@{module\_functions}!draw\_contour@{draw\_contour}}
\index{draw\_contour@{draw\_contour}!module\_functions@{module\_functions}}
\doxysubsubsection{\texorpdfstring{draw\_contour()}{draw\_contour()}}
{\footnotesize\ttfamily def module\+\_\+functions.\+draw\+\_\+contour (\begin{DoxyParamCaption}\item[{}]{image,  }\item[{}]{contour,  }\item[{}]{color,  }\item[{}]{debug }\end{DoxyParamCaption})}

\begin{DoxyVerb}:brief      Show contours on the main display
:param      image:      Image to draw on
:param      contour:    Array of contours to draw on the imge
:param      color:      Color the contour should be
:param      debug:      If debug info should be shown
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacemodule__functions_aee0890d804e34c155524adfcc11a39ad}\label{namespacemodule__functions_aee0890d804e34c155524adfcc11a39ad}} 
\index{module\_functions@{module\_functions}!draw\_horizontal\_line@{draw\_horizontal\_line}}
\index{draw\_horizontal\_line@{draw\_horizontal\_line}!module\_functions@{module\_functions}}
\doxysubsubsection{\texorpdfstring{draw\_horizontal\_line()}{draw\_horizontal\_line()}}
{\footnotesize\ttfamily def module\+\_\+functions.\+draw\+\_\+horizontal\+\_\+line (\begin{DoxyParamCaption}\item[{}]{image,  }\item[{}]{x,  }\item[{}]{y,  }\item[{}]{w,  }\item[{}]{t }\end{DoxyParamCaption})}

\begin{DoxyVerb}:brief      Makes a black horizontal line on (x,y) with a width to the right
:param      image:  Image to draw lines on
:param      x:      X position for the left point of the line
:param      y:      Y position for the left point of the line
:param      w:      Width the line will be to the right
:param      t:      Thickness of the line
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacemodule__functions_a7b1acafebdc5cc0ef48f7202a12ad056}\label{namespacemodule__functions_a7b1acafebdc5cc0ef48f7202a12ad056}} 
\index{module\_functions@{module\_functions}!find\_angle\_between@{find\_angle\_between}}
\index{find\_angle\_between@{find\_angle\_between}!module\_functions@{module\_functions}}
\doxysubsubsection{\texorpdfstring{find\_angle\_between()}{find\_angle\_between()}}
{\footnotesize\ttfamily def module\+\_\+functions.\+find\+\_\+angle\+\_\+between (\begin{DoxyParamCaption}\item[{}]{p1,  }\item[{}]{p2 }\end{DoxyParamCaption})}

\begin{DoxyVerb}:brief      Calculates smallest angle between two points, always under 180
:param      p1:     Point 1 of the line
:param      p2:     Point 2 of the line
:return     Angle of that line relative to the horizon
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacemodule__functions_af512726cd648e41774ce21b1d18e0a47}\label{namespacemodule__functions_af512726cd648e41774ce21b1d18e0a47}} 
\index{module\_functions@{module\_functions}!find\_contour\_angle@{find\_contour\_angle}}
\index{find\_contour\_angle@{find\_contour\_angle}!module\_functions@{module\_functions}}
\doxysubsubsection{\texorpdfstring{find\_contour\_angle()}{find\_contour\_angle()}}
{\footnotesize\ttfamily def module\+\_\+functions.\+find\+\_\+contour\+\_\+angle (\begin{DoxyParamCaption}\item[{}]{contour,  }\item[{}]{search\+\_\+w,  }\item[{}]{search\+\_\+h,  }\item[{}]{image,  }\item[{}]{scale,  }\item[{}]{debug }\end{DoxyParamCaption})}

\begin{DoxyVerb}:brief      Returns the angle of a contour
:param      contour:    Contour with no approx
:param      search_w:   Search area width
:param      search_h:   Search area height
:return     The closest angle to make te contour flat
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacemodule__functions_a853d161a502bcfd87493ab3aa6b0d78b}\label{namespacemodule__functions_a853d161a502bcfd87493ab3aa6b0d78b}} 
\index{module\_functions@{module\_functions}!find\_min\_max\_array@{find\_min\_max\_array}}
\index{find\_min\_max\_array@{find\_min\_max\_array}!module\_functions@{module\_functions}}
\doxysubsubsection{\texorpdfstring{find\_min\_max\_array()}{find\_min\_max\_array()}}
{\footnotesize\ttfamily def module\+\_\+functions.\+find\+\_\+min\+\_\+max\+\_\+array (\begin{DoxyParamCaption}\item[{}]{value,  }\item[{}]{offset = {\ttfamily 0} }\end{DoxyParamCaption})}

\begin{DoxyVerb}:brief      Finds the min and max value of an array and corrects with the offset
:param      value:      Array of values that will be checked
:param      offset:     Amount the real values will be changed, default = 0
:return     minimum,    maximum
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacemodule__functions_a2161d037973c5445e421c31e0f50ceb6}\label{namespacemodule__functions_a2161d037973c5445e421c31e0f50ceb6}} 
\index{module\_functions@{module\_functions}!find\_min\_max\_color@{find\_min\_max\_color}}
\index{find\_min\_max\_color@{find\_min\_max\_color}!module\_functions@{module\_functions}}
\doxysubsubsection{\texorpdfstring{find\_min\_max\_color()}{find\_min\_max\_color()}}
{\footnotesize\ttfamily def module\+\_\+functions.\+find\+\_\+min\+\_\+max\+\_\+color (\begin{DoxyParamCaption}\item[{}]{image,  }\item[{}]{color\+\_\+space,  }\item[{}]{offset\+\_\+table }\end{DoxyParamCaption})}

\begin{DoxyVerb}:brief      Finds the min and max value of an image
:param      image:          Array of values that will be checked
:param      color_space:    Color space the image will be transformed to
:param      offset_table:   Amount the first second and third values will be changed [l,a,b]
:return     minimum array,  maximum array (size = 3)
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacemodule__functions_a6540211e362aa55494e7c7bc8be1a9ee}\label{namespacemodule__functions_a6540211e362aa55494e7c7bc8be1a9ee}} 
\index{module\_functions@{module\_functions}!overlay\_image@{overlay\_image}}
\index{overlay\_image@{overlay\_image}!module\_functions@{module\_functions}}
\doxysubsubsection{\texorpdfstring{overlay\_image()}{overlay\_image()}}
{\footnotesize\ttfamily def module\+\_\+functions.\+overlay\+\_\+image (\begin{DoxyParamCaption}\item[{}]{l\+\_\+img,  }\item[{}]{s\+\_\+img,  }\item[{}]{position = {\ttfamily (0,0)} }\end{DoxyParamCaption})}

\begin{DoxyVerb}:brief      Overlays an smaller image(s_img) over an lager image(l_img)
:param      l_img:      The large image that is the base
:param      s_img:      The small image that will be inserted
:param      position:   Position of the small image
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacemodule__functions_a46b932fe69bf77eb90f5ab2b1e0dc4f8}\label{namespacemodule__functions_a46b932fe69bf77eb90f5ab2b1e0dc4f8}} 
\index{module\_functions@{module\_functions}!save\_min\_max\_color@{save\_min\_max\_color}}
\index{save\_min\_max\_color@{save\_min\_max\_color}!module\_functions@{module\_functions}}
\doxysubsubsection{\texorpdfstring{save\_min\_max\_color()}{save\_min\_max\_color()}}
{\footnotesize\ttfamily def module\+\_\+functions.\+save\+\_\+min\+\_\+max\+\_\+color (\begin{DoxyParamCaption}\item[{}]{color\+\_\+index,  }\item[{}]{lab\+\_\+min,  }\item[{}]{lab\+\_\+max,  }\item[{}]{min\+\_\+max\+\_\+table }\end{DoxyParamCaption})}

\begin{DoxyVerb}:brief      Save the lab values for a specific color
:param      color_index:    Color to save
:param      lab_min:        Minimum values to save [l,a,b]
:param      lab_max:        Maximum values to save [l,a,b]
:param      min_max_table,  Array to save the values in
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacemodule__functions_ac39d58ae949a0f0b8b37dbfed508c114}\label{namespacemodule__functions_ac39d58ae949a0f0b8b37dbfed508c114}} 
\index{module\_functions@{module\_functions}!sort\_contours\_on\_height@{sort\_contours\_on\_height}}
\index{sort\_contours\_on\_height@{sort\_contours\_on\_height}!module\_functions@{module\_functions}}
\doxysubsubsection{\texorpdfstring{sort\_contours\_on\_height()}{sort\_contours\_on\_height()}}
{\footnotesize\ttfamily def module\+\_\+functions.\+sort\+\_\+contours\+\_\+on\+\_\+height (\begin{DoxyParamCaption}\item[{}]{cnts,  }\item[{}]{clr }\end{DoxyParamCaption})}

\begin{DoxyVerb}:brief      Sort a contour array in the Y-axis
:param      cnts:   Array of contours to be sorted
:param      clr:   Array of colors to be sorted in the same way as the contours
:return     Both arrays (contours, colors)
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacemodule__functions_a8bbf2cb11700435bed14b909d8311515}\label{namespacemodule__functions_a8bbf2cb11700435bed14b909d8311515}} 
\index{module\_functions@{module\_functions}!split\_contour\_on\_height@{split\_contour\_on\_height}}
\index{split\_contour\_on\_height@{split\_contour\_on\_height}!module\_functions@{module\_functions}}
\doxysubsubsection{\texorpdfstring{split\_contour\_on\_height()}{split\_contour\_on\_height()}}
{\footnotesize\ttfamily def module\+\_\+functions.\+split\+\_\+contour\+\_\+on\+\_\+height (\begin{DoxyParamCaption}\item[{}]{image,  }\item[{}]{contour,  }\item[{}]{height,  }\item[{}]{offset,  }\item[{}]{cut\+\_\+size }\end{DoxyParamCaption})}

\begin{DoxyVerb}:brief      Splits contours that are too high
:param      image:      Image to draw lines on to split
:param      contour:    Array of contours in the image
:param      height:     Maximum height of a contour
:param      offset:     Offset the height can be
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacemodule__functions_a2144571c80fd5b4caaa9c4049fec26ec}\label{namespacemodule__functions_a2144571c80fd5b4caaa9c4049fec26ec}} 
\index{module\_functions@{module\_functions}!transform\_workspace@{transform\_workspace}}
\index{transform\_workspace@{transform\_workspace}!module\_functions@{module\_functions}}
\doxysubsubsection{\texorpdfstring{transform\_workspace()}{transform\_workspace()}}
{\footnotesize\ttfamily def module\+\_\+functions.\+transform\+\_\+workspace (\begin{DoxyParamCaption}\item[{}]{image,  }\item[{}]{workspace,  }\item[{}]{width,  }\item[{}]{height }\end{DoxyParamCaption})}

\begin{DoxyVerb}:brief      Rotates and resizes an section off the image
:param      image:      Original image where the workspace is in
:param      workspace:  Four points of the workspace
:param      width:      Width of the new image
:param      height:     Height of the new image
:return     New image that has been transformed and warped
\end{DoxyVerb}
 